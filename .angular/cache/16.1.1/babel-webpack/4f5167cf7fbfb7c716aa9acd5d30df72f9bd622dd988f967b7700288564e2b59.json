{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { UserStorageService } from 'src/app/auth/auth-services/storage-service/user-storage.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"../../service/customer.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/select\";\nimport * as i10 from \"@angular/material/core\";\nimport * as i11 from \"@angular/material/icon\";\nfunction ReviewOrderedProductComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    i0.ɵɵelement(2, \"img\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.imagePreview, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ReviewOrderedProductComponent_mat_error_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Please select a rating! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReviewOrderedProductComponent_mat_error_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" This input is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nclass ReviewOrderedProductComponent {\n  onFileSelected(event) {\n    this.selectedFile = event.target.files[0];\n    this.previewImage();\n  }\n  previewImage() {\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.imagePreview = reader.result;\n    };\n    reader.readAsDataURL(this.selectedFile);\n  }\n  constructor(fb, snackBar, customerService, router, activatedRoute) {\n    this.fb = fb;\n    this.snackBar = snackBar;\n    this.customerService = customerService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.productId = this.activatedRoute.snapshot.params[\"productId\"];\n    this.isSpinning = false;\n  }\n  ngOnInit() {\n    this.reviewForm = this.fb.group({\n      rating: [null, [Validators.required]],\n      description: [null, [Validators.required]]\n    });\n  }\n  submitForm() {\n    this.isSpinning = true;\n    const formData = new FormData();\n    formData.append('img', this.selectedFile);\n    formData.append('productId', this.productId.toString());\n    formData.append('userId', UserStorageService.getUserId().toString());\n    formData.append('rating', this.reviewForm.get('rating').value);\n    formData.append('description', this.reviewForm.get('description').value);\n    this.customerService.giveReview(formData).subscribe(res => {\n      this.isSpinning = false;\n      if (res.id != null) {\n        this.snackBar.open('Review Posted Successfully!', 'Close', {\n          duration: 5000\n        });\n        this.router.navigateByUrl('/customer/my_orders');\n      } else {\n        this.snackBar.open(\"Something went wrong\", 'ERROR', {\n          duration: 5000\n        });\n      }\n    });\n  }\n}\nReviewOrderedProductComponent.ɵfac = function ReviewOrderedProductComponent_Factory(t) {\n  return new (t || ReviewOrderedProductComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.CustomerService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n};\nReviewOrderedProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReviewOrderedProductComponent,\n  selectors: [[\"app-review-ordered-product\"]],\n  decls: 31,\n  vars: 4,\n  consts: [[1, \"review-form\", 3, \"formGroup\"], [1, \"file-upload-container\"], [1, \"file-upload-label\"], [\"type\", \"file\", \"id\", \"fileInput\", \"hidden\", \"\", 3, \"change\"], [\"class\", \"image-preview\", 4, \"ngIf\"], [\"appearance\", \"outline\"], [\"formControlName\", \"rating\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [4, \"ngIf\"], [\"matInput\", \"\", \"formControlName\", \"description\", \"placeholder\", \"Description\", \"rows\", \"5\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"click\"], [1, \"image-preview\"], [1, \"circle-image\"], [\"alt\", \"Selected Image\", 1, \"preview-image\", 3, \"src\"]],\n  template: function ReviewOrderedProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1)(2, \"label\", 2)(3, \"span\");\n      i0.ɵɵtext(4, \"Select a File\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 3);\n      i0.ɵɵlistener(\"change\", function ReviewOrderedProductComponent_Template_input_change_5_listener($event) {\n        return ctx.onFileSelected($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"mat-icon\");\n      i0.ɵɵtext(7, \"attach_file\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(8, ReviewOrderedProductComponent_div_8_Template, 3, 1, \"div\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"mat-form-field\", 5)(10, \"mat-label\");\n      i0.ɵɵtext(11, \"Rating\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"mat-select\", 6)(13, \"mat-option\", 7);\n      i0.ɵɵtext(14, \"1 Star\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"mat-option\", 8);\n      i0.ɵɵtext(16, \"2 Stars\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"mat-option\", 9);\n      i0.ɵɵtext(18, \"3 Stars\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"mat-option\", 10);\n      i0.ɵɵtext(20, \"4 Stars\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"mat-option\", 11);\n      i0.ɵɵtext(22, \"5 Stars\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(23, ReviewOrderedProductComponent_mat_error_23_Template, 2, 0, \"mat-error\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"mat-form-field\", 5)(25, \"mat-label\");\n      i0.ɵɵtext(26, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"textarea\", 13);\n      i0.ɵɵtemplate(28, ReviewOrderedProductComponent_mat_error_28_Template, 2, 0, \"mat-error\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function ReviewOrderedProductComponent_Template_button_click_29_listener() {\n        return ctx.submitForm();\n      });\n      i0.ɵɵtext(30, \"Submit\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.reviewForm);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.selectedFile);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngIf\", ctx.reviewForm.get(\"rating\").invalid && ctx.reviewForm.get(\"rating\").touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.reviewForm.get(\"description\").invalid && ctx.reviewForm.get(\"description\").touched);\n    }\n  },\n  dependencies: [i5.NgIf, i6.MatButton, i7.MatFormField, i7.MatLabel, i7.MatError, i8.MatInput, i9.MatSelect, i10.MatOption, i11.MatIcon, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n\\n.review-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  max-width: 400px;\\n  margin: 0 auto;\\n  padding: 20px;\\n  border: 1px solid #ddd;\\n  border-radius: 5px;\\n  background-color: #f8f8f8;\\n  margin-top: 45px;\\n}\\n.review-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 20px;\\n}\\n.review-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-upload-label[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 12px 24px;\\n  background-color: #007bff;\\n  color: white;\\n  border-radius: 4px;\\n  transition: background-color 0.3s;\\n}\\n.review-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-upload-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  margin-right: 8px;\\n}\\n.review-form[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]   .file-upload-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n}\\n.review-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  margin-top: 16px;\\n}\\n.review-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .circle-image[_ngcontent-%COMP%] {\\n  width: 150px;\\n  height: 150px;\\n  border-radius: 100%;\\n  overflow: hidden;\\n  position: relative;\\n  background-color: lightgray;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\\n}\\n.review-form[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .circle-image[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n}\\n.review-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-top: 20px;\\n}\\n.review-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n}\\n.review-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%], .review-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\n  width: 100%;\\n  font-size: 16px;\\n}\\n.review-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%] {\\n  width: 100%;\\n  font-size: 18px;\\n  margin-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9jdXN0b21lci9jb21wb25lbnRzL3Jldmlldy1vcmRlcmVkLXByb2R1Y3QvcmV2aWV3LW9yZGVyZWQtcHJvZHVjdC5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uL0UtY29tbWVyY2UlMjBmaW5hbCUyMHByb2plY3QvRS1jb21tZXJjZV9CQVpPTl9VSS9zcmMvYXBwL21vZHVsZXMvY3VzdG9tZXIvY29tcG9uZW50cy9yZXZpZXctb3JkZXJlZC1wcm9kdWN0L3Jldmlldy1vcmRlcmVkLXByb2R1Y3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUNBQUE7QUFDQTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0FDQ0o7QURDSTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7QUNDUjtBRENRO0VBQ0ksZUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGlDQUFBO0FDQ1o7QURDWTtFQUNJLGlCQUFBO0FDQ2hCO0FERVk7RUFDSSxlQUFBO0FDQWhCO0FES0k7RUFDSSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtBQ0hSO0FES1E7RUFDSSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLDJCQUFBO0VBQ0Esd0NBQUE7QUNIWjtBREtZO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQ0hoQjtBRFFJO0VBQ0ksV0FBQTtFQUNBLGdCQUFBO0FDTlI7QURRUTtFQUNJLGVBQUE7QUNOWjtBRFNROztFQUVJLFdBQUE7RUFDQSxlQUFBO0FDUFo7QURXSTtFQUNJLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUNUUiIsInNvdXJjZXNDb250ZW50IjpbIi8qIFlvdXJDb21wb25lbnQuY29tcG9uZW50LnNjc3MgKi9cclxuLnJldmlldy1mb3JtIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1heC13aWR0aDogNDAwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcclxuICAgIG1hcmdpbi10b3A6IDQ1cHg7XHJcblxyXG4gICAgLmZpbGUtdXBsb2FkLWNvbnRhaW5lciB7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcblxyXG4gICAgICAgIC5maWxlLXVwbG9hZC1sYWJlbCB7XHJcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMjRweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjsgLy8gVXBkYXRlIHdpdGggeW91ciBkZXNpcmVkIGNvbG9yIGNvZGVcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcztcclxuXHJcbiAgICAgICAgICAgIHNwYW4ge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG1hdC1pY29uIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuaW1hZ2UtcHJldmlldyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICBtYXJnaW4tdG9wOiAxNnB4O1xyXG5cclxuICAgICAgICAuY2lyY2xlLWltYWdlIHtcclxuICAgICAgICAgICAgd2lkdGg6IDE1MHB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDE1MHB4O1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcclxuXHJcbiAgICAgICAgICAgIC5wcmV2aWV3LWltYWdlIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbWF0LWZvcm0tZmllbGQge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcblxyXG4gICAgICAgIG1hdC1sYWJlbCB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1hdC1zZWxlY3QsXHJcbiAgICAgICAgdGV4dGFyZWEge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBidXR0b25bdHlwZT1cInN1Ym1pdFwiXSB7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICB9XHJcbn0iLCIvKiBZb3VyQ29tcG9uZW50LmNvbXBvbmVudC5zY3NzICovXG4ucmV2aWV3LWZvcm0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXgtd2lkdGg6IDQwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOGY4O1xuICBtYXJnaW4tdG9wOiA0NXB4O1xufVxuLnJldmlldy1mb3JtIC5maWxlLXVwbG9hZC1jb250YWluZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG4ucmV2aWV3LWZvcm0gLmZpbGUtdXBsb2FkLWNvbnRhaW5lciAuZmlsZS11cGxvYWQtbGFiZWwge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBwYWRkaW5nOiAxMnB4IDI0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3M7XG59XG4ucmV2aWV3LWZvcm0gLmZpbGUtdXBsb2FkLWNvbnRhaW5lciAuZmlsZS11cGxvYWQtbGFiZWwgc3BhbiB7XG4gIG1hcmdpbi1yaWdodDogOHB4O1xufVxuLnJldmlldy1mb3JtIC5maWxlLXVwbG9hZC1jb250YWluZXIgLmZpbGUtdXBsb2FkLWxhYmVsIG1hdC1pY29uIHtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuLnJldmlldy1mb3JtIC5pbWFnZS1wcmV2aWV3IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDE2cHg7XG59XG4ucmV2aWV3LWZvcm0gLmltYWdlLXByZXZpZXcgLmNpcmNsZS1pbWFnZSB7XG4gIHdpZHRoOiAxNTBweDtcbiAgaGVpZ2h0OiAxNTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMik7XG59XG4ucmV2aWV3LWZvcm0gLmltYWdlLXByZXZpZXcgLmNpcmNsZS1pbWFnZSAucHJldmlldy1pbWFnZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xufVxuLnJldmlldy1mb3JtIG1hdC1mb3JtLWZpZWxkIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG59XG4ucmV2aWV3LWZvcm0gbWF0LWZvcm0tZmllbGQgbWF0LWxhYmVsIHtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuLnJldmlldy1mb3JtIG1hdC1mb3JtLWZpZWxkIG1hdC1zZWxlY3QsXG4ucmV2aWV3LWZvcm0gbWF0LWZvcm0tZmllbGQgdGV4dGFyZWEge1xuICB3aWR0aDogMTAwJTtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuLnJldmlldy1mb3JtIGJ1dHRvblt0eXBlPXN1Ym1pdF0ge1xuICB3aWR0aDogMTAwJTtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBtYXJnaW4tdG9wOiAyMHB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { ReviewOrderedProductComponent };","map":{"version":3,"names":["Validators","UserStorageService","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r0","imagePreview","ɵɵsanitizeUrl","ɵɵtext","ReviewOrderedProductComponent","onFileSelected","event","selectedFile","target","files","previewImage","reader","FileReader","onload","result","readAsDataURL","constructor","fb","snackBar","customerService","router","activatedRoute","productId","snapshot","params","isSpinning","ngOnInit","reviewForm","group","rating","required","description","submitForm","formData","FormData","append","toString","getUserId","get","value","giveReview","subscribe","res","id","open","duration","navigateByUrl","ɵɵdirectiveInject","i1","FormBuilder","i2","MatSnackBar","i3","CustomerService","i4","Router","ActivatedRoute","selectors","decls","vars","consts","template","ReviewOrderedProductComponent_Template","rf","ctx","ɵɵlistener","ReviewOrderedProductComponent_Template_input_change_5_listener","$event","ɵɵtemplate","ReviewOrderedProductComponent_div_8_Template","ReviewOrderedProductComponent_mat_error_23_Template","ReviewOrderedProductComponent_mat_error_28_Template","ReviewOrderedProductComponent_Template_button_click_29_listener","invalid","touched"],"sources":["/Users/aishaoyinkansola/Desktop/Projects/E-commerce final project/E-commerce_BAZON_UI/src/app/modules/customer/components/review-ordered-product/review-ordered-product.component.ts","/Users/aishaoyinkansola/Desktop/Projects/E-commerce final project/E-commerce_BAZON_UI/src/app/modules/customer/components/review-ordered-product/review-ordered-product.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CustomerService } from '../../service/customer.service';\r\nimport { UserStorageService } from 'src/app/auth/auth-services/storage-service/user-storage.service';\r\n\r\n@Component({\r\n  selector: 'app-review-ordered-product',\r\n  templateUrl: './review-ordered-product.component.html',\r\n  styleUrls: ['./review-ordered-product.component.scss']\r\n})\r\nexport class ReviewOrderedProductComponent {\r\n\r\n  productId: number = this.activatedRoute.snapshot.params[\"productId\"];\r\n  isSpinning: boolean = false;\r\n  reviewForm!: FormGroup;\r\n  selectedFile: File | null;\r\n  imagePreview: string | ArrayBuffer | null;\r\n\r\n  onFileSelected(event: any) {\r\n    this.selectedFile = event.target.files[0];\r\n    this.previewImage();\r\n  }\r\n\r\n  previewImage() {\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      this.imagePreview = reader.result;\r\n    };\r\n    reader.readAsDataURL(this.selectedFile);\r\n  }\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private snackBar: MatSnackBar,\r\n    private customerService: CustomerService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.reviewForm = this.fb.group({\r\n      rating: [null, [Validators.required]],\r\n      description: [null, [Validators.required]],\r\n    });\r\n  }\r\n\r\n  submitForm(): void {\r\n    this.isSpinning = true;\r\n    const formData: FormData = new FormData();\r\n    formData.append('img', this.selectedFile);\r\n    formData.append('productId', this.productId.toString());\r\n    formData.append('userId', UserStorageService.getUserId().toString());\r\n    formData.append('rating', this.reviewForm.get('rating').value);\r\n    formData.append('description', this.reviewForm.get('description').value);\r\n    this.customerService.giveReview(formData).subscribe((res) => {\r\n      this.isSpinning = false;\r\n      if (res.id != null) {\r\n        this.snackBar.open('Review Posted Successfully!', 'Close', {\r\n          duration: 5000\r\n        });\r\n        this.router.navigateByUrl('/customer/my_orders');\r\n      } else {\r\n        this.snackBar.open(\"Something went wrong\", 'ERROR', {\r\n          duration: 5000\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<!-- YourComponent.component.html -->\r\n<form [formGroup]=\"reviewForm\" class=\"review-form\">\r\n    <div class=\"file-upload-container\">\r\n        <label class=\"file-upload-label\">\r\n            <span>Select a File</span>\r\n            <input type=\"file\" id=\"fileInput\" (change)=\"onFileSelected($event)\" hidden>\r\n            <mat-icon>attach_file</mat-icon>\r\n        </label>\r\n\r\n        <div *ngIf=\"selectedFile\" class=\"image-preview\">\r\n            <div class=\"circle-image\">\r\n                <img [src]=\"imagePreview\" alt=\"Selected Image\" class=\"preview-image\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <mat-form-field appearance=\"outline\">\r\n        <mat-label>Rating</mat-label>\r\n        <mat-select formControlName=\"rating\">\r\n            <mat-option value=\"1\">1 Star</mat-option>\r\n            <mat-option value=\"2\">2 Stars</mat-option>\r\n            <mat-option value=\"3\">3 Stars</mat-option>\r\n            <mat-option value=\"4\">4 Stars</mat-option>\r\n            <mat-option value=\"5\">5 Stars</mat-option>\r\n        </mat-select>\r\n        <mat-error *ngIf=\"reviewForm.get('rating').invalid && reviewForm.get('rating').touched\">\r\n            Please select a rating!\r\n        </mat-error>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field appearance=\"outline\">\r\n        <mat-label>Description</mat-label>\r\n        <textarea matInput formControlName=\"description\" placeholder=\"Description\" rows=\"5\"></textarea>\r\n        <mat-error *ngIf=\"reviewForm.get('description').invalid && reviewForm.get('description').touched\">\r\n            This input is required!\r\n        </mat-error>\r\n    </mat-form-field>\r\n\r\n    <button mat-raised-button color=\"primary\" type=\"submit\" (click)=\"submitForm()\">Submit</button>\r\n</form>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}