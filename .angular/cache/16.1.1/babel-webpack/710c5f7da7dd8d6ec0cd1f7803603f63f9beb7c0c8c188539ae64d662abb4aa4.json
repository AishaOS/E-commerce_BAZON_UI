{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst TOKEN = 'l_token';\nconst USER = 'l_user';\nclass UserStorageService {\n  saveToken(token) {\n    window.localStorage.removeItem(TOKEN);\n    window.localStorage.setItem(TOKEN, token);\n  }\n  static hasToken() {\n    if (this.getToken() === null) {\n      return false;\n    }\n    return true;\n  }\n  static getToken() {\n    return localStorage.getItem(TOKEN);\n  }\n  saveUser(user) {\n    window.localStorage.removeItem(USER);\n    window.localStorage.setItem(USER, JSON.stringify(user));\n  }\n  static getUser() {\n    return JSON.parse(localStorage.getItem(USER));\n  }\n  static getUserId() {\n    const user = this.getUser();\n    if (user == null) {\n      return '';\n    }\n    return user.userId;\n  }\n  static getUserRole() {\n    const user = this.getUser();\n    if (user == null) {\n      return '';\n    }\n    return user.role;\n  }\n  static isAdminLoggedIn() {\n    if (this.getToken() === null) {\n      return false;\n    }\n    const role = this.getUserRole();\n    return role == 'ADMIN';\n  }\n  static isCustomerLoggedIn() {\n    if (this.getToken() === null) {\n      return false;\n    }\n    const role = this.getUserRole();\n    return role == 'CUSTOMER';\n  }\n  static signOut() {\n    window.localStorage.removeItem(TOKEN);\n    window.localStorage.removeItem(USER);\n  }\n}\nUserStorageService.ɵfac = function UserStorageService_Factory(t) {\n  return new (t || UserStorageService)();\n};\nUserStorageService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UserStorageService,\n  factory: UserStorageService.ɵfac,\n  providedIn: 'root'\n});\nexport { UserStorageService };","map":{"version":3,"names":["TOKEN","USER","UserStorageService","saveToken","token","window","localStorage","removeItem","setItem","hasToken","getToken","getItem","saveUser","user","JSON","stringify","getUser","parse","getUserId","userId","getUserRole","role","isAdminLoggedIn","isCustomerLoggedIn","signOut","factory","ɵfac","providedIn"],"sources":["/Users/aishaoyinkansola/Desktop/Projects/E-commerce final project/E-commerce_BAZON_UI/src/app/auth/auth-services/storage-service/user-storage.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nconst TOKEN = 'l_token';\nconst USER = 'l_user';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserStorageService {\n\n  public saveToken(token: string): void {\n    window.localStorage.removeItem(TOKEN);\n    window.localStorage.setItem(TOKEN, token);\n  }\n\n  static hasToken(): boolean {\n    if ( this.getToken() === null){\n      return false;\n    }\n    return true;\n  }\n\n  static getToken(): string {\n    return localStorage.getItem(TOKEN);\n  }\n\n  public saveUser(user): void {\n    window.localStorage.removeItem(USER);\n    window.localStorage.setItem(USER, JSON.stringify(user));\n  }\n\n  static getUser(): any {\n    return JSON.parse(localStorage.getItem(USER));\n  }\n\n\n  static getUserId(): string {\n    const user = this.getUser();\n    if ( user == null){ return ''; }\n    return user.userId;\n  }\n\n  static getUserRole(): string {\n    const user = this.getUser();\n    if ( user == null){ return ''; }\n    return user.role;\n  }\n\n  static isAdminLoggedIn(): boolean {\n    if ( this.getToken() === null){\n      return false;\n    }\n    const role: string = this.getUserRole();\n    return role == 'ADMIN';\n  }\n\n  static isCustomerLoggedIn(): boolean {\n    if ( this.getToken() === null){\n      return false;\n    }\n    const role: string = this.getUserRole();\n    return role == 'CUSTOMER';\n  }\n\n\n\n  static signOut(): void {\n    window.localStorage.removeItem(TOKEN);\n    window.localStorage.removeItem(USER);\n  }\n\n  \n}\n"],"mappings":";AAEA,MAAMA,KAAK,GAAG,SAAS;AACvB,MAAMC,IAAI,GAAG,QAAQ;AAErB,MAGaC,kBAAkB;EAEtBC,SAASA,CAACC,KAAa;IAC5BC,MAAM,CAACC,YAAY,CAACC,UAAU,CAACP,KAAK,CAAC;IACrCK,MAAM,CAACC,YAAY,CAACE,OAAO,CAACR,KAAK,EAAEI,KAAK,CAAC;EAC3C;EAEA,OAAOK,QAAQA,CAAA;IACb,IAAK,IAAI,CAACC,QAAQ,EAAE,KAAK,IAAI,EAAC;MAC5B,OAAO,KAAK;;IAEd,OAAO,IAAI;EACb;EAEA,OAAOA,QAAQA,CAAA;IACb,OAAOJ,YAAY,CAACK,OAAO,CAACX,KAAK,CAAC;EACpC;EAEOY,QAAQA,CAACC,IAAI;IAClBR,MAAM,CAACC,YAAY,CAACC,UAAU,CAACN,IAAI,CAAC;IACpCI,MAAM,CAACC,YAAY,CAACE,OAAO,CAACP,IAAI,EAAEa,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,CAAC;EACzD;EAEA,OAAOG,OAAOA,CAAA;IACZ,OAAOF,IAAI,CAACG,KAAK,CAACX,YAAY,CAACK,OAAO,CAACV,IAAI,CAAC,CAAC;EAC/C;EAGA,OAAOiB,SAASA,CAAA;IACd,MAAML,IAAI,GAAG,IAAI,CAACG,OAAO,EAAE;IAC3B,IAAKH,IAAI,IAAI,IAAI,EAAC;MAAE,OAAO,EAAE;;IAC7B,OAAOA,IAAI,CAACM,MAAM;EACpB;EAEA,OAAOC,WAAWA,CAAA;IAChB,MAAMP,IAAI,GAAG,IAAI,CAACG,OAAO,EAAE;IAC3B,IAAKH,IAAI,IAAI,IAAI,EAAC;MAAE,OAAO,EAAE;;IAC7B,OAAOA,IAAI,CAACQ,IAAI;EAClB;EAEA,OAAOC,eAAeA,CAAA;IACpB,IAAK,IAAI,CAACZ,QAAQ,EAAE,KAAK,IAAI,EAAC;MAC5B,OAAO,KAAK;;IAEd,MAAMW,IAAI,GAAW,IAAI,CAACD,WAAW,EAAE;IACvC,OAAOC,IAAI,IAAI,OAAO;EACxB;EAEA,OAAOE,kBAAkBA,CAAA;IACvB,IAAK,IAAI,CAACb,QAAQ,EAAE,KAAK,IAAI,EAAC;MAC5B,OAAO,KAAK;;IAEd,MAAMW,IAAI,GAAW,IAAI,CAACD,WAAW,EAAE;IACvC,OAAOC,IAAI,IAAI,UAAU;EAC3B;EAIA,OAAOG,OAAOA,CAAA;IACZnB,MAAM,CAACC,YAAY,CAACC,UAAU,CAACP,KAAK,CAAC;IACrCK,MAAM,CAACC,YAAY,CAACC,UAAU,CAACN,IAAI,CAAC;EACtC;;AA7DWC,kBAAkB,C;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB,C;SAAlBA,kBAAkB;EAAAuB,OAAA,EAAlBvB,kBAAkB,CAAAwB,IAAA;EAAAC,UAAA,EAFjB;AAAM;SAEPzB,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}